<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InterState Traffic Prediction</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
</head>

<body class="container mt-5">

    <h1 class="mb-4">InterState Traffic Prediction</h1>

    <form id="predictionForm">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="holiday">Holiday:</label>
                    <input type="text" class="form-control" id="holiday" name="holiday" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="temp">Temperature:</label>
                    <input type="text" class="form-control" id="temp" name="temp" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="rain_1h">Rain (1h):</label>
                    <input type="text" class="form-control" id="rain_1h" name="rain_1h" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="snow_1h">Snow (1h):</label>
                    <input type="text" class="form-control" id="snow_1h" name="snow_1h" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="clouds_all">Clouds:</label>
                    <input type="text" class="form-control" id="clouds_all" name="clouds_all" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="weather_main">Weather Main:</label>
                    <input type="text" class="form-control" id="weather_main" name="weather_main" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="weather_description">Weather Description:</label>
                    <input type="text" class="form-control" id="weather_description" name="weather_description"
                        required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="year">Year:</label>
                    <input type="text" class="form-control" id="year" name="year" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="month">Month:</label>
                    <input type="text" class="form-control" id="month" name="month" required>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="day">Day:</label>
                    <input type="text" class="form-control" id="day" name="day" required>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label for="hour">Hour:</label>
                    <input type="text" class="form-control" id="hour" name="hour" required>
                </div>
            </div>
        </div>

        <button type="button" class="btn btn-primary" onclick="predictWeather()">Predict</button>
    </form>

    <div id="predictionResult" class="mt-4" style="display: none;">
        <h2>Prediction Result</h2>
        <pre id="resultContent"></pre>
    </div>

    <script>
        function predictWeather() {
            // Create an object with the form data
            const formData = {
                'data': {
                    holiday: document.getElementById('holiday').value,
                    temp: document.getElementById('temp').value,
                    rain_1h: document.getElementById('rain_1h').value,
                    snow_1h: document.getElementById('snow_1h').value,
                    clouds_all: document.getElementById('clouds_all').value,
                    weather_main: document.getElementById('weather_main').value,
                    weather_description: document.getElementById('weather_description').value,
                    year: document.getElementById('year').value,
                    month: document.getElementById('month').value,
                    day: document.getElementById('day').value,
                    hour: document.getElementById('hour').value
                }
            };

            // Make an AJAX request
            const xhr = new XMLHttpRequest();
            xhr.open('POST', '/predict', true);
            xhr.setRequestHeader('Content-Type', 'application/json');

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    // Parse the JSON response
                    const result = JSON.parse(xhr.responseText);

                    // Display the result on the screen
                    document.getElementById('resultContent').textContent = JSON.stringify(result, null, 2);
                    document.getElementById('predictionResult').style.display = 'block';
                }
            };

            // Convert the form data to JSON and send the request
            xhr.send(JSON.stringify(formData));
        }
    </script>

</body>

</html>
